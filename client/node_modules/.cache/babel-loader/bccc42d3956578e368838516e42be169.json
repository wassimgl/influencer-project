{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/user/Desktop/influencer/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\user\\\\Desktop\\\\influencer\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import axios from'axios';import{ADD_CUSTOMER_FAILED,DELETE_CUSTOMER_FAILED,GET_CUSTOMER_FAILED,GET_CUSTOMER_LODING,GET_CUSTOMER_SUCCESS,LOGIN_FAIL,LOGIN_SUCCESS,LOGOUT,REGISTER_FAIL,REGISTER_SUCCESS,UPDATE_CUSTOMER_FAILED}from'./types';export var getCustomer=function getCustomer(){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;dispatch({type:GET_CUSTOMER_LODING});_context.next=4;return axios.get('/api/customer/');case 4:res=_context.sent;dispatch({type:GET_CUSTOMER_SUCCESS,payload:res.data});_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);dispatch({type:GET_CUSTOMER_FAILED,payload:_context.t0});case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var addCustomer=function addCustomer(customerInfo){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.post('/api/customer/',customerInfo);case 3:dispatch(getCustomer());_context2.next=9;break;case 6:_context2.prev=6;_context2.t0=_context2[\"catch\"](0);dispatch({type:ADD_CUSTOMER_FAILED,payload:_context2.t0});case 9:case\"end\":return _context2.stop();}}},_callee2,null,[[0,6]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var register=function register(customerData,nav){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var res;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.post('/api/customer/register',customerData);case 3:res=_context3.sent;dispatch({type:REGISTER_SUCCESS,payload:res.data});nav('/login');_context3.next=12;break;case 8:_context3.prev=8;_context3.t0=_context3[\"catch\"](0);console.log(customerData);dispatch({type:REGISTER_FAIL,payload:_context3.t0});case 12:case\"end\":return _context3.stop();}}},_callee3,null,[[0,8]]);}));return function(_x3){return _ref3.apply(this,arguments);};}();};export var login=function login(customerData){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){var res;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return axios.post('/api/customer/login',customerData);case 3:res=_context4.sent;console.log('customerData',res.data);dispatch({type:LOGIN_SUCCESS,payload:res.data});_context4.next=11;break;case 8:_context4.prev=8;_context4.t0=_context4[\"catch\"](0);dispatch({type:LOGIN_FAIL,payload:_context4.t0.response&&_context4.t0.response.data.msg?_context4.t0.response.data.msg:_context4.t0.message});case 11:case\"end\":return _context4.stop();}}},_callee4,null,[[0,8]]);}));return function(_x4){return _ref4.apply(this,arguments);};}();};export var logoutAction=function logoutAction(){return{type:LOGOUT};};export var deleteCustomer=function deleteCustomer(custId){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return axios.delete(\"/api/customer/\".concat(custId));case 3:dispatch(getCustomer());_context5.next=9;break;case 6:_context5.prev=6;_context5.t0=_context5[\"catch\"](0);dispatch({type:DELETE_CUSTOMER_FAILED,payload:_context5.t0});case 9:case\"end\":return _context5.stop();}}},_callee5,null,[[0,6]]);}));return function(_x5){return _ref5.apply(this,arguments);};}();};export var updateCustomer=function updateCustomer(customerData,custId){return/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(dispatch){return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.prev=0;_context6.next=3;return axios.put(\"/api/customer/\".concat(custId),customerData);case 3:dispatch(getCustomer());_context6.next=9;break;case 6:_context6.prev=6;_context6.t0=_context6[\"catch\"](0);dispatch({type:UPDATE_CUSTOMER_FAILED,payload:_context6.t0});case 9:case\"end\":return _context6.stop();}}},_callee6,null,[[0,6]]);}));return function(_x6){return _ref6.apply(this,arguments);};}();};","map":{"version":3,"sources":["C:/Users/user/Desktop/influencer/client/src/action/customerAction.js"],"names":["axios","ADD_CUSTOMER_FAILED","DELETE_CUSTOMER_FAILED","GET_CUSTOMER_FAILED","GET_CUSTOMER_LODING","GET_CUSTOMER_SUCCESS","LOGIN_FAIL","LOGIN_SUCCESS","LOGOUT","REGISTER_FAIL","REGISTER_SUCCESS","UPDATE_CUSTOMER_FAILED","getCustomer","dispatch","type","get","res","payload","data","addCustomer","customerInfo","post","register","customerData","nav","console","log","login","response","msg","message","logoutAction","deleteCustomer","custId","delete","updateCustomer","put"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport { ADD_CUSTOMER_FAILED, DELETE_CUSTOMER_FAILED, GET_CUSTOMER_FAILED, GET_CUSTOMER_LODING, GET_CUSTOMER_SUCCESS, LOGIN_FAIL, LOGIN_SUCCESS, LOGOUT, REGISTER_FAIL, REGISTER_SUCCESS, UPDATE_CUSTOMER_FAILED } from './types';\r\n\r\n\r\n\r\nexport const getCustomer = () =>async (dispatch)=> {\r\n    try {\r\n        dispatch({type: GET_CUSTOMER_LODING})\r\n     const res = await  axios.get('/api/customer/');\r\n     dispatch({type : GET_CUSTOMER_SUCCESS , payload: res.data});\r\n   \r\n    } catch (error) {\r\n       \r\n       dispatch({type : GET_CUSTOMER_FAILED , payload: error})\r\n    } \r\n};\r\n\r\nexport const addCustomer = (customerInfo) =>async (dispatch)=> {\r\n    try {\r\n     await  axios.post('/api/customer/',customerInfo);\r\n     dispatch(getCustomer());\r\n   \r\n    } catch (error) {\r\n       \r\n       dispatch({type : ADD_CUSTOMER_FAILED , payload: error})\r\n    } \r\n};\r\n\r\nexport const register = (customerData, nav) =>async (dispatch)=> {\r\n     try {\r\n      const res = await  axios.post('/api/customer/register', customerData);\r\n      dispatch({type : REGISTER_SUCCESS , payload: res.data});\r\n      nav('/login');\r\n     } catch (error) {\r\n        console.log(customerData);\r\n        dispatch({type : REGISTER_FAIL , payload: error})\r\n     } \r\n };\r\n\r\n\r\n export const login = (customerData) =>async (dispatch)=> {\r\n     try {\r\n      const res = await  axios.post('/api/customer/login', customerData);\r\n      console.log('customerData', res.data);\r\n      dispatch({type : LOGIN_SUCCESS , payload: res.data})\r\n     } catch (error) {\r\n        dispatch({type : LOGIN_FAIL , \r\n            payload: error.response && error.response.data.msg\r\n            ? error.response.data.msg\r\n            : error.message,})\r\n     } \r\n };\r\n \r\n\r\n export const logoutAction = () =>{\r\n\r\nreturn{\r\n    type: LOGOUT\r\n}\r\n }\r\n\r\n\r\n\r\n\r\n export const deleteCustomer = (custId) =>async (dispatch)=> {\r\n    try {\r\n       await  axios.delete(`/api/customer/${custId}`);\r\n\r\n     dispatch(getCustomer());\r\n   \r\n    } catch (error) {\r\n       \r\n       dispatch({type : DELETE_CUSTOMER_FAILED, payload: error})\r\n    } \r\n};\r\nexport const updateCustomer = (customerData,custId) =>async (dispatch)=> {\r\n   \r\n    try {\r\n       \r\n   await  axios.put(`/api/customer/${custId}`,customerData);\r\n     dispatch(getCustomer())\r\n\r\n   \r\n   \r\n    } catch (error) {\r\n       \r\n       dispatch({type : UPDATE_CUSTOMER_FAILED, payload: error})\r\n    } \r\n};"]},"metadata":{},"sourceType":"module"}